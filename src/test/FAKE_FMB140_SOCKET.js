const NET = require('net');

const PORT = 9000;
const HOST = '127.0.0.1';


const FAKE_FMB140 = new NET.Socket();


FAKE_FMB140.connect({port: PORT, host: HOST}, function(err) {
    if(err)
    {
        throw new Error;
    }
    else
    {
        console.log('Connection with server established.');

        FAKE_FMB140.write('000F333536333037303432343431303133', 'hex');

    }
})

FAKE_FMB140.on('data', function(data) {
    console.log(data);

    console.log(data.toString('hex'));
    if(data.toString('hex')=='01'){
        FAKE_FMB140.write(new Buffer.from('00 00 00 00 00 00 04 d6 08 13 00 00 01 6f 57 25 be 68 00 0b ef a9 6a 1b 34 29 42 00 40 00 00 07 00 00 f0 0c 05 ef 00 f0 01 15 03 c8 00 45 01 05 b5 00 07 b6 00 05 42 30 f8 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 25 c2 50 00 0b ef a9 6a 1b 34 29 42 00 40 00 00 08 00 00 ef 0c 05 ef 01 f0 01 15 03 c8 00 45 01 05 b5 00 07 b6 00 05 42 30 eb 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 28 bc 08 00 0b ef a9 6a 1b 34 29 42 00 40 00 00 0b 00 00 f0 0c 05 ef 01 f0 00 15 03 c8 00 45 01 05 b5 00 07 b6 00 04 42 31 04 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 28 bf f0 00 0b ef a9 6a 1b 34 29 42 00 40 00 00 0b 00 00 ef 0c 05 ef 00 f0 00 15 03 c8 00 45 01 05 b5 00 08 b6 00 04 42 31 07 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 5f ae 70 00 0b ef a9 6a 1b 34 29 42 00 45 00 00 0b 00 00 00 0c 05 ef 00 f0 00 15 03 c8 00 45 01 05 b5 00 0a b6 00 05 42 31 8b 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 7f c9 30 00 0b ef a9 6a 1b 34 29 42 00 45 00 00 0e 00 00 ef 0c 05 ef 01 f0 00 15 03 c8 00 45 01 05 b5 00 07 b6 00 03 42 39 ea 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 80 84 b0 00 0b ef a9 6a 1b 34 29 42 00 45 00 00 0c 00 00 ef 0c 05 ef 00 f0 00 15 03 c8 00 45 01 05 b5 00 0c b6 00 05 42 33 da 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 80 8c 80 00 0b ef a9 6a 1b 34 29 42 00 45 00 00 0d 00 00 ef 0c 05 ef 01 f0 00 15 03 c8 00 45 01 05 b5 00 08 b6 00 03 42 38 b2 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 92 6a b8 00 0b ef a9 6a 1b 34 29 42 00 51 00 00 0f 00 00 ef 0c 05 ef 00 f0 00 15 05 c8 00 45 01 05 b5 00 05 b6 00 03 42 33 80 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 94 e7 70 00 0b ef a9 6a 1b 34 29 42 00 51 00 00 10 00 00 ef 0c 05 ef 01 f0 00 15 05 c8 00 45 01 05 b5 00 05 b6 00 03 42 39 82 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 95 a2 f0 00 0b ef a9 6a 1b 34 29 42 00 53 00 00 11 00 00 ef 0c 05 ef 00 f0 00 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 32 33 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 95 aa c0 00 0b ef a9 6a 1b 34 29 42 00 53 00 00 11 00 00 ef 0c 05 ef 01 f0 00 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 38 18 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 96 14 38 00 0b f0 1a d3 1b 31 e9 59 00 4e 00 b6 0f 00 15 f0 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 07 b6 00 03 42 34 4f 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 00 00 00 00 01 6f 57 96 1c 08 00 0b f0 19 c8 1b 31 e6 39 00 4c 00 c9 10 00 0d 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 37 d3 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 09 00 00 00 01 6f 57 96 1f f0 00 0b f0 18 f0 1b 31 e5 3f 00 4d 00 d8 0e 00 09 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 07 b6 00 03 42 38 1c 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 0c 00 00 00 01 6f 57 96 7d b0 00 0b f0 17 4f 1b 31 e3 af 00 4c 00 c0 10 00 09 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 05 b6 00 03 42 38 fd 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 0f 00 00 00 01 6f 57 96 81 98 00 0b f0 17 4f 1b 31 e2 c6 00 4c 00 a8 10 00 08 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 38 e5 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 14 00 00 00 01 6f 57 96 85 80 00 0b f0 17 f6 1b 31 e1 ed 00 4c 00 8b 10 00 0a 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 38 b5 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 17 00 00 00 01 6f 57 96 89 68 00 0b f0 19 54 1b 31 e1 04 00 4c 00 7b 10 00 0f 00 0c 05 ef 01 f0 01 15 05 c8 00 45 01 05 b5 00 06 b6 00 03 42 38 7b 43 00 00 44 00 00 02 f1 00 00 55 f1 10 00 00 00 1b 00 13 00 00 19 90', 'hex'))
        FAKE_FMB140.end();
    }
    // FAKE_FMB140.end();
})

FAKE_FMB140.on('end', function() {
    console.log('Requested an end to the TCP connection');
})